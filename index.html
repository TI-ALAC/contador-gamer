<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
  <title>Countdown to November 12, 2025</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="billboard-container">
    <img id="background-image" src="img/rest-of-days.png" alt="Background" class="background-img">

    <div class="countdown-display">
      <div class="days-container">
        <span id="days" class="days-number">00</span>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Target date: November 12, 2025 at midnight in timezone UTC-5
      const TARGET_DATE = new Date('2025-11-12T05:00:00.000Z'); // 00:00 UTC-5 = 05:00 UTC
      const daysElement = document.getElementById('days');
      const backgroundImage = document.getElementById('background-image');

      const MILLISECONDS_PER_DAY = 24 * 60 * 60 * 1000;

      function updateCountdown() {
        // Get current time in UTC and adjust to UTC-5 timezone
        const now = new Date();
        const localTime = new Date(now.getTime() - (5 * 60 * 60 * 1000)); // Subtract 5 hours for UTC-5
        const timeDiff = TARGET_DATE - now;

        if (timeDiff > 0) {
          const daysRemaining = Math.ceil(timeDiff / MILLISECONDS_PER_DAY);

          // Format days: remove leading zero for single digits, keep 2 digits for 10-99, 3 digits for 100+
          let formattedDays;
          if (daysRemaining < 10) {
            formattedDays = daysRemaining.toString(); // No leading zero for single digits
          } else if (daysRemaining < 100) {
            formattedDays = daysRemaining.toString().padStart(2, '0'); // Two digits for 10-99
          } else {
            formattedDays = daysRemaining.toString().padStart(3, '0'); // Three digits for 100+
          }

          daysElement.textContent = formattedDays;

          // Move countdown position when it's the last day
          const countdownDisplay = document.querySelector('.countdown-display');
          if (daysRemaining === 1) {
            // Move countdown to the left on last day
            countdownDisplay.style.right = '20.5%'; // Move more to the left
          } else if (daysRemaining < 10) {
            countdownDisplay.style.right = '18.5%'; // Move more to the left
          }

          // Update background image based on days remaining
          updateBackgroundImage(daysRemaining);
        } else {
          // Countdown finished
          daysElement.textContent = '0';
          backgroundImage.src = 'img/last-day.png'; // Show final image when countdown ends
        }
      }

      function updateBackgroundImage(days) {
        // Simple image logic: last-day.png for 1 day left, rest-of-days.png for everything else
        if (days === 1) {
          backgroundImage.src = 'img/last-day.png';
        } else {
          backgroundImage.src = 'img/rest-of-days.png';
        }
      }

      // Update immediately and then every minute for more precision
      updateCountdown();
      setInterval(updateCountdown, 60000); // Update every minute
    });
  </script>
</body>
</html>
